services:
  archiver:
    image: ghcr.io/sisyphusmd/archiver:v0.7.0
    container_name: archiver
    restart: unless-stopped
    hostname: backup-server

    environment:
      BUNDLE_PASSWORD: "your-bundle-password-here"
      CRON_SCHEDULE: "0 3 * * *"  # Daily at 3am, or omit for manual mode
      TZ: "UTC"  # Timezone for cron scheduling

    volumes:
      - ./archiver-bundle:/opt/archiver/bundle  # Bundle file (required)
      - ./archiver-logs:/opt/archiver/logs  # Persistent logs (optional)
      - /path/to/host/services:/data/services:ro  # Data to backup (must match config.sh)
      # - /var/run/docker.sock:/var/run/docker.sock  # For docker exec in scripts (optional)
